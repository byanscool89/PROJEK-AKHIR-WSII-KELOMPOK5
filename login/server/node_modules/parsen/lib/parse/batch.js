// Generated by CoffeeScript 1.4.0
var batch, createBatchObject, request,
  _this = this;

request = require('request');

batch = function(requests) {
  var data;
  if (!_this.ready) {
    throw new Error(_this.noKeys);
  }
  data = {
    requests: requests
  };
  return request({
    method: 'POST',
    uri: "https://api.parse.com/1/batch",
    headers: {
      "X-Parse-Application-Id": _this.parseApplicationId,
      "X-Parse-REST-API-Key": _this.parseRESTAPIKey,
      "Content-Type": "application/json"
    },
    body: JSON.stringify(data)
  }, function(error, response, body) {
    return callback(error, response, body);
  });
};

createBatchObject = function(method, className, data) {
  if (data == null) {
    data = {};
  }
  return {
    method: method,
    path: "/1/classes/" + className,
    body: data
  };
};

module.exports.batch = batch;

module.exports.createBatchObject = createBatchObject;
